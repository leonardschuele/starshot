(program
  (graph fizzbuzz
    (input (n Int))
    (output String)
    (effect pure)
    (body
      (if (== (% n 15) 0)
        "FizzBuzz"
        (if (== (% n 3) 0)
          "Fizz"
          (if (== (% n 5) 0)
            "Buzz"
            (format n))))))

  (graph main
    (input)
    (output Unit)
    (effect io)
    (body
      (do
        (let nums (range 1 21)
          (let results (map (lambda (n) (fizzbuzz n)) nums)
            (map (lambda (s) (print s)) results)))))))
